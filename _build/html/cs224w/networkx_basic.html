
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>经典图结构 &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=4ec06e9971c5264fbd345897d5258098f11cc577" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=8bf782fb4ee92b3d3646425e50f299c4e1fd152d"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'cs224w/networkx_basic';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Bridges" href="networkx_example.html" />
    <link rel="prev" title="Task-02:图机器学习及其特征工程" href="02-tradition-ml.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="None">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../intro.html">

  
  
  
  
  
  
  

  
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="01-intro.html">
                        01-introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="02-tradition-ml.html">
                        Task-02:图机器学习及其特征工程
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        经典图结构
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="networkx_example.html">
                        Bridges
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="01-intro.html">
                        01-introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="02-tradition-ml.html">
                        Task-02:图机器学习及其特征工程
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        经典图结构
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="networkx_example.html">
                        Bridges
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">
  


<a class="navbar-brand logo" href="../intro.html">

  
  
  
  
  
  
  

  
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    </div>
    <div class="sidebar-start-items__item">
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">CS224w</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01-intro.html">01-introduction</a></li>

<li class="toctree-l1"><a class="reference internal" href="02-tradition-ml.html">Task-02:图机器学习及其特征工程</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">经典图结构</a></li>

























<li class="toctree-l1"><a class="reference internal" href="networkx_example.html">Bridges</a></li>





</ul>

    </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        <label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" data-toggle="tooltip" data-placement="right" title="Toggle primary sidebar">
            <span class="fa-solid fa-bars"></span>
        </label>
    </div>
    <div class="header-article__right">


<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
  </ul>
</div>

<button onclick="toggleFullScreen()"
  class="btn btn-sm"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<div class="dropdown dropdown-repository-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">repository</span>
</a>
</a>
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fcs224w/networkx_basic.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">open issue</span>
</a>
</a>
      
  </ul>
</div>



<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="../_sources/cs224w/networkx_basic.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</a>
      
      <li>
<button onclick="printPdf(this)"
  class="btn btn-sm dropdown-item"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</a>
      
  </ul>
</div>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary" data-toggle="tooltip" data-placement="left" title="Toggle secondary sidebar">
            <span class="fa-solid fa-list"></span>
        </label>
    </div>
</div>
            </div>
            
            

<div id="jb-print-docs-body" class="onlyprint">
    <h1>经典图结构</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   经典图结构
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     全连接无向图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     全连接有向图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     环状图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     梯状图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     线性串珠图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     星状图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     轮辐图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     二项树
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id10">
   栅格图
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     二维矩形网格图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     多维矩形网格图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     二维三角形网格图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     二维六边形蜂窝图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#n">
     n维超立方体图
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#networkx">
   NetworkX内置图
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id15">
   随机图
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id16">
   有向图
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id17">
     无标度有向图
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id18">
   社交网络
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id19">
   社群聚类图
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id20">
   树
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id21">
   导入三元组连接表
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#edge-list">
   通过连接表Edge List创建图
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id22">
   可视化
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id23">
   查看全图参数
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id24">
   创建结点
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id25">
     创建无结点，无连接的空图
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id26">
   添加单个结点
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id27">
     添加带属性特征的结点
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#path-graph">
   创建另一个首尾相连成串的Path Graph
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hg">
   将H本身作为结点添加到G中
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id28">
   小贴士
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id29">
   创建连接
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id30">
   创建单个结点
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id31">
     创建多个结点
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id32">
     全图结点信息
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id33">
     创建单个连接，设置属性特征
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id34">
     创建多个连接
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id35">
     全图连接信息
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-degree">
     结点的连接数（Node degree）
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#x4">
   创建4x4网格图
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id36">
   原生可视化
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id37">
     不显示结点
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id38">
     设置颜色
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id39">
     有向图
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id40">
   设置每个结点的坐标
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id41">
     无向图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id42">
     再来一个案例
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id43">
   美国128城市交通关系无向图可视化
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id44">
     构建图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id45">
     查看图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id46">
     128城市人口数据
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id47">
     128城市互联互通关系
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id48">
     纽约到里士满的交通距离
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id49">
     筛选出距离小于指定阈值的城市
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id50">
     可视化
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id51">
     创建有向图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id52">
     初步可视化
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id53">
     高级可视化设置
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multigraph">
   国际象棋对局MultiGraph多路图可视化
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id54">
     连通域分析
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id55">
     高级可视化
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id56">
   自定义结点图标
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id57">
     自定义图标
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id58">
     创建图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id59">
     可视化自定义结点图标
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ego">
   自我中心图（Ego图）
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#degree">
     找到degree最大的主节点
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ego-graph">
     找到以主节点为中心的邻域子图（Ego Graph）
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>

            <article class="bd-article" role="main">
              
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 导入工具包</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">([</span><span class="s1">&#39;#046586&#39;</span><span class="p">,</span> <span class="s1">&#39;#28A9A1&#39;</span><span class="p">,</span> <span class="s1">&#39;#C9A77C&#39;</span><span class="p">,</span> <span class="s1">&#39;#F4A016&#39;</span><span class="p">,</span> <span class="s1">&#39;#F6BBC6&#39;</span><span class="p">,</span> <span class="s1">&#39;#E71F19&#39;</span><span class="p">])</span>  <span class="c1"># Nature 配色</span>
<span class="c1"># %matplotlib inline</span>
<span class="c1"># %config InlineBackend.figure_format = &#39;svg&#39;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># 2.24, 2.24 设置figure_size尺寸</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;savefig.dpi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">300</span>  <span class="c1"># 图片像素</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.dpi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># 分辨率</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;SimHei&#39;</span>  <span class="c1"># 显示中文</span>
<span class="c1"># plt.rcParams[&#39;font.sans-serif&#39;] = &#39;Times New Roman&#39;  # 论文插图用</span>
<span class="c1"># 设置正常显示字符</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.unicode_minus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1">#正常显示负号</span>
<span class="c1"># plt.rcParams[&#39;font.size&#39;] = 60</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id1">
<h1>经典图结构<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h1>
<div class="section" id="id2">
<h2>全连接无向图<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">complete_graph</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/80d69c5efe2cf8797643397003dccfaaaaf417647a20071021737b8757c4fd2e.png" src="../_images/80d69c5efe2cf8797643397003dccfaaaaf417647a20071021737b8757c4fd2e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 全图连接数</span>
<span class="n">G</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>21
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id3">
<h2>全连接有向图<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">complete_graph</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">())</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/dfccfaf7642f5a22aa6e9f11319ed9721b1d5536f74d3fb815abd991f082a89f.png" src="../_images/dfccfaf7642f5a22aa6e9f11319ed9721b1d5536f74d3fb815abd991f082a89f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">is_directed</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id4">
<h2>环状图<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">cycle_graph</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/1a47c3073becfc6d06688da5fc57831bce4af6620f8885064b055c47be62a12f.png" src="../_images/1a47c3073becfc6d06688da5fc57831bce4af6620f8885064b055c47be62a12f.png" />
</div>
</div>
</div>
<div class="section" id="id5">
<h2>梯状图<a class="headerlink" href="#id5" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">ladder_graph</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/83fbfb5194d8a2d8733ed94dba1791294a89e96651ff0f07a9249c012565a990.png" src="../_images/83fbfb5194d8a2d8733ed94dba1791294a89e96651ff0f07a9249c012565a990.png" />
</div>
</div>
</div>
<div class="section" id="id6">
<h2>线性串珠图<a class="headerlink" href="#id6" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">path_graph</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/be5b29f3b0604d1eddf78b30f0d8527c1e1d0cc344a4ac541c944258aa6b1dff.png" src="../_images/be5b29f3b0604d1eddf78b30f0d8527c1e1d0cc344a4ac541c944258aa6b1dff.png" />
</div>
</div>
</div>
<div class="section" id="id7">
<h2>星状图<a class="headerlink" href="#id7" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">star_graph</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/25bf047879ecd5cadd241594c6e625bde5c7acab321e1b52f1bb16cf86a43a06.png" src="../_images/25bf047879ecd5cadd241594c6e625bde5c7acab321e1b52f1bb16cf86a43a06.png" />
</div>
</div>
</div>
<div class="section" id="id8">
<h2>轮辐图<a class="headerlink" href="#id8" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">wheel_graph</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/b7fa164f0c46524669f8ad34263d6410bc18d8bfc3a9cc6c8a2c16cd35212f03.png" src="../_images/b7fa164f0c46524669f8ad34263d6410bc18d8bfc3a9cc6c8a2c16cd35212f03.png" />
</div>
</div>
</div>
<div class="section" id="id9">
<h2>二项树<a class="headerlink" href="#id9" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">binomial_tree</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a61d1f34c60955f01e168c206ccca678dab971a998de62888b4c2a0a19d96903.png" src="../_images/a61d1f34c60955f01e168c206ccca678dab971a998de62888b4c2a0a19d96903.png" />
</div>
</div>
</div>
</div>
<div class="section" id="id10">
<h1>栅格图<a class="headerlink" href="#id10" title="Permalink to this headline">#</a></h1>
<div class="section" id="id11">
<h2>二维矩形网格图<a class="headerlink" href="#id11" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">grid_2d_graph</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/0b2717f84b838031a1eed6e96c17f0a0b17099ec77b74e0db39d5a1402530390.png" src="../_images/0b2717f84b838031a1eed6e96c17f0a0b17099ec77b74e0db39d5a1402530390.png" />
</div>
</div>
</div>
<div class="section" id="id12">
<h2>多维矩形网格图<a class="headerlink" href="#id12" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">grid_graph</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ae0efad850327d5ba7f53c0853dea704734e7437120f0f28b83c4bc3257c9954.png" src="../_images/ae0efad850327d5ba7f53c0853dea704734e7437120f0f28b83c4bc3257c9954.png" />
</div>
</div>
</div>
<div class="section" id="id13">
<h2>二维三角形网格图<a class="headerlink" href="#id13" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">triangular_lattice_graph</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/1835fee7602a4c2515816b6fc546f6282153e4c7c6c3a652508f57c348413b16.png" src="../_images/1835fee7602a4c2515816b6fc546f6282153e4c7c6c3a652508f57c348413b16.png" />
</div>
</div>
</div>
<div class="section" id="id14">
<h2>二维六边形蜂窝图<a class="headerlink" href="#id14" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">hexagonal_lattice_graph</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/32d42d62fdd9084fea98352164f9378e39215a320bae74a789b4c64f59f17faf.png" src="../_images/32d42d62fdd9084fea98352164f9378e39215a320bae74a789b4c64f59f17faf.png" />
</div>
</div>
</div>
<div class="section" id="n">
<h2>n维超立方体图<a class="headerlink" href="#n" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">hypercube_graph</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/da1d9ca90d4b3eccc460156521771891a4d1f0118d908b9faab631de58842908.png" src="../_images/da1d9ca90d4b3eccc460156521771891a4d1f0118d908b9faab631de58842908.png" />
</div>
</div>
</div>
</div>
<div class="section" id="networkx">
<h1>NetworkX内置图<a class="headerlink" href="#networkx" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">diamond_graph</span><span class="p">()</span> <span class="c1">## 钻石图</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/b63cc60c77d31d3397e021e2768fa52a69ab5a6719b0e2cba126d84f82123b12.png" src="../_images/b63cc60c77d31d3397e021e2768fa52a69ab5a6719b0e2cba126d84f82123b12.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">bull_graph</span><span class="p">()</span> <span class="c1">## 牛角图</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d82b2c5c7737671f8b98e93ee3e18fa76d342e02fa9c40a3eff3ea7e9a32abbe.png" src="../_images/d82b2c5c7737671f8b98e93ee3e18fa76d342e02fa9c40a3eff3ea7e9a32abbe.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">frucht_graph</span><span class="p">()</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/e744bdcd5271d9dd8830d2f62700c755b8695c851173f9cdaa937b591d9e98f7.png" src="../_images/e744bdcd5271d9dd8830d2f62700c755b8695c851173f9cdaa937b591d9e98f7.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">house_graph</span><span class="p">()</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a71354e57634cd2981c07e34939099f565d72ea359eb15522e6d33a040fbb164.png" src="../_images/a71354e57634cd2981c07e34939099f565d72ea359eb15522e6d33a040fbb164.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">house_x_graph</span><span class="p">()</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ca5dd12c0543ef6eb0d3bb3116b74f23cbf7a140ffe77e602752aeed0ae1f258.png" src="../_images/ca5dd12c0543ef6eb0d3bb3116b74f23cbf7a140ffe77e602752aeed0ae1f258.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">petersen_graph</span><span class="p">()</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9ceb01976341cc28ec1f36d222af38aadf9f368bcce5a7f1d373790b59baeb34.png" src="../_images/9ceb01976341cc28ec1f36d222af38aadf9f368bcce5a7f1d373790b59baeb34.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">krackhardt_kite_graph</span><span class="p">()</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2c2a11eace27171c1fc177daf3316f92205f1d8dd5373dca65516cb4f96f19db.png" src="../_images/2c2a11eace27171c1fc177daf3316f92205f1d8dd5373dca65516cb4f96f19db.png" />
</div>
</div>
</div>
<div class="section" id="id15">
<h1>随机图<a class="headerlink" href="#id15" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">erdos_renyi_graph</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/762acded59e1ef78f88da7feb2c799ba67fb49dbb3b878fee70aec8444eab91e.png" src="../_images/762acded59e1ef78f88da7feb2c799ba67fb49dbb3b878fee70aec8444eab91e.png" />
</div>
</div>
</div>
<div class="section" id="id16">
<h1>有向图<a class="headerlink" href="#id16" title="Permalink to this headline">#</a></h1>
<div class="section" id="id17">
<h2>无标度有向图<a class="headerlink" href="#id17" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">scale_free_graph</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a4ae8af3ab4ede322460e948540e7da02483cd2edb10b9d29f2bba82ad316bf0.png" src="../_images/a4ae8af3ab4ede322460e948540e7da02483cd2edb10b9d29f2bba82ad316bf0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="id18">
<h1>社交网络<a class="headerlink" href="#id18" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 空手道俱乐部数据集</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2ae854b182886da08d4fdf11eee6ba6d73c2ac6e0bbe35fb6c0749ac121b4d75.png" src="../_images/2ae854b182886da08d4fdf11eee6ba6d73c2ac6e0bbe35fb6c0749ac121b4d75.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="s1">&#39;club&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Mr. Hi&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">9</span><span class="p">][</span><span class="s1">&#39;club&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Officer&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 雨果《悲惨世界》人物关系</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">les_miserables_graph</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d8f7cc7b37f40980370fd1dbb2ccbab464b69d2e6ea1f36fd2787a7ff870ce25.png" src="../_images/d8f7cc7b37f40980370fd1dbb2ccbab464b69d2e6ea1f36fd2787a7ff870ce25.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Florentine families graph</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">florentine_families_graph</span><span class="p">()</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2168882266792481fbaf06c800ca31fb847404705daba834fcaaaa83892ac333.png" src="../_images/2168882266792481fbaf06c800ca31fb847404705daba834fcaaaa83892ac333.png" />
</div>
</div>
</div>
<div class="section" id="id19">
<h1>社群聚类图<a class="headerlink" href="#id19" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">caveman_graph</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/6840f5be4043b63d95ae0ff705a2d3d56f333af7fcad07226269bb8af07c2efb.png" src="../_images/6840f5be4043b63d95ae0ff705a2d3d56f333af7fcad07226269bb8af07c2efb.png" />
</div>
</div>
</div>
<div class="section" id="id20">
<h1>树<a class="headerlink" href="#id20" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">random_tree</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">forest_str</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="mi">6</span><span class="p">]))</span>  <span class="c1">## source是根？</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>╙── 6
    ├── 5
    │   └── 7
    └── 2
        ├── 1
        │   └── 0
        │       └── 3
        │           ├── 4
        │           └── 8
        └── 9
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id21">
<h1>导入三元组连接表<a class="headerlink" href="#id21" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 导入csv文件定义的三元组连接表，构建有向图</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;./data/triples.csv&#39;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>head</th>
      <th>tail</th>
      <th>relation</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>关羽</td>
      <td>刘备</td>
      <td>younger_sworn_brother</td>
      <td>义弟</td>
    </tr>
    <tr>
      <th>1</th>
      <td>张飞</td>
      <td>刘备</td>
      <td>younger_sworn_brother</td>
      <td>义弟</td>
    </tr>
    <tr>
      <th>2</th>
      <td>关羽</td>
      <td>张飞</td>
      <td>elder_sworn_brother</td>
      <td>义兄</td>
    </tr>
    <tr>
      <th>3</th>
      <td>张苞</td>
      <td>张飞</td>
      <td>son</td>
      <td>儿子</td>
    </tr>
    <tr>
      <th>4</th>
      <td>关兴</td>
      <td>关羽</td>
      <td>son</td>
      <td>儿子</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>148</th>
      <td>曹植</td>
      <td>曹丕</td>
      <td>younger_brother</td>
      <td>弟弟</td>
    </tr>
    <tr>
      <th>149</th>
      <td>马谡</td>
      <td>诸葛亮</td>
      <td>colleague</td>
      <td>同事</td>
    </tr>
    <tr>
      <th>150</th>
      <td>马谡</td>
      <td>刘备</td>
      <td>minister</td>
      <td>臣</td>
    </tr>
    <tr>
      <th>151</th>
      <td>孙坚</td>
      <td>孙权</td>
      <td>father</td>
      <td>父亲</td>
    </tr>
    <tr>
      <th>152</th>
      <td>吴国太</td>
      <td>孙权</td>
      <td>mother</td>
      <td>母亲</td>
    </tr>
  </tbody>
</table>
<p>153 rows × 4 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="edge-list">
<h1>通过连接表Edge List创建图<a class="headerlink" href="#edge-list" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">edges</span> <span class="o">=</span> <span class="p">[</span><span class="n">edge</span> <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;head&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;tail&#39;</span><span class="p">])]</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="s1">&#39;关羽&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>OutEdgeDataView([(&#39;关羽&#39;, &#39;刘备&#39;), (&#39;关羽&#39;, &#39;张飞&#39;)])
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id22">
<h1>可视化<a class="headerlink" href="#id22" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 结点排版布局-默认弹簧布局</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/1cb46237c8391941d830cf25b7107112f8a76b3a871bd7a32ad5a5639d3456eb.png" src="../_images/1cb46237c8391941d830cf25b7107112f8a76b3a871bd7a32ad5a5639d3456eb.png" />
</div>
</div>
</div>
<div class="section" id="id23">
<h1>查看全图参数<a class="headerlink" href="#id23" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DiGraph with 123 nodes and 144 edges
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>123
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>144
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;关羽&#39;, &#39;刘备&#39;, &#39;张飞&#39;, &#39;张苞&#39;, &#39;关兴&#39;, &#39;关平&#39;, &#39;卢植&#39;, &#39;公孙瓒&#39;, &#39;甘氏&#39;, &#39;刘禅&#39;, &#39;诸葛瞻&#39;, &#39;诸葛亮&#39;, &#39;姜维&#39;, &#39;黄月英&#39;, &#39;黄承彦&#39;, &#39;诸葛瑾&#39;, &#39;公孙越&#39;, &#39;马超&#39;, &#39;马腾&#39;, &#39;韩遂&#39;, &#39;徐庶&#39;, &#39;曹操&#39;, &#39;刘胜&#39;, &#39;刘启&#39;, &#39;刘辩&#39;, &#39;孙权&#39;, &#39;孙尚香&#39;, &#39;糜氏&#39;, &#39;糜芳&#39;, &#39;糜竺&#39;, &#39;魏延&#39;, &#39;赵云&#39;, &#39;黄忠&#39;, &#39;庞统&#39;, &#39;法正&#39;, &#39;蒋琬&#39;, &#39;马良&#39;, &#39;孟获&#39;, &#39;沙摩柯&#39;, &#39;庞德公&#39;, &#39;马谡&#39;, &#39;祝融&#39;, &#39;孙韶&#39;, &#39;孙策&#39;, &#39;孙氏&#39;, &#39;陆逊&#39;, &#39;刘协&#39;, &#39;董卓&#39;, &#39;王允&#39;, &#39;貂蝉&#39;, &#39;吕布&#39;, &#39;丁原&#39;, &#39;高顺&#39;, &#39;陈宫&#39;, &#39;张辽&#39;, &#39;刘表&#39;, &#39;蔡氏&#39;, &#39;蔡瑁&#39;, &#39;蒯越&#39;, &#39;黄祖&#39;, &#39;文聘&#39;, &#39;张宝&#39;, &#39;张角&#39;, &#39;张梁&#39;, &#39;袁绍&#39;, &#39;袁术&#39;, &#39;袁谭&#39;, &#39;袁熙&#39;, &#39;袁尚&#39;, &#39;吴国太&#39;, &#39;孙坚&#39;, &#39;大乔&#39;, &#39;小乔&#39;, &#39;周瑜&#39;, &#39;丁奉&#39;, &#39;徐盛&#39;, &#39;鲁肃&#39;, &#39;张昭&#39;, &#39;蒋钦&#39;, &#39;太史慈&#39;, &#39;周泰&#39;, &#39;凌统&#39;, &#39;吕蒙&#39;, &#39;甘宁&#39;, &#39;黄盖&#39;, &#39;韩当&#39;, &#39;程普&#39;, &#39;曹嵩&#39;, &#39;吕伯奢&#39;, &#39;邹氏&#39;, &#39;张绣&#39;, &#39;清河公主&#39;, &#39;夏侯楙&#39;, &#39;夏侯渊&#39;, &#39;夏侯淳&#39;, &#39;曹真&#39;, &#39;曹爽&#39;, &#39;郭嘉&#39;, &#39;徐晃&#39;, &#39;乐进&#39;, &#39;张郃&#39;, &#39;许褚&#39;, &#39;典韦&#39;, &#39;荀彧&#39;, &#39;荀攸&#39;, &#39;贾诩&#39;, &#39;司马懿&#39;, &#39;程昱&#39;, &#39;于禁&#39;, &#39;邓艾&#39;, &#39;钟会&#39;, &#39;庞德&#39;, &#39;司马师&#39;, &#39;司马昭&#39;, &#39;司马炎&#39;, &#39;曹仁&#39;, &#39;曹纯&#39;, &#39;曹昂&#39;, &#39;刘氏&#39;, &#39;超昂&#39;, &#39;卞氏&#39;, &#39;曹丕&#39;, &#39;曹植&#39;))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### 保存并载入邻接表Adjacency List</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">nx</span><span class="o">.</span><span class="n">generate_adjlist</span><span class="p">(</span><span class="n">G</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>关羽 刘备 张飞
刘备 诸葛亮 马超 徐庶 姜维 糜芳 糜竺 魏延 赵云 黄忠 庞统 法正 蒋琬 马良 孟获 沙摩柯
张飞 刘备
张苞 张飞
关兴 关羽
关平 张苞 关羽
卢植 刘备
公孙瓒 刘备
甘氏 刘备
刘禅 甘氏
诸葛瞻 刘禅 诸葛亮
诸葛亮 姜维
姜维 诸葛亮
黄月英 诸葛亮
黄承彦 黄月英
诸葛瑾 诸葛亮
公孙越 公孙瓒
马超
马腾 马超
韩遂 马腾
徐庶
曹操 徐庶 张辽 蒯越 蔡瑁 张绣 夏侯淳 夏侯渊 曹真 郭嘉 徐晃 乐进 张郃 许褚 典韦 荀彧 荀攸 贾诩 司马懿 程昱 于禁 邓艾 钟会 庞德
刘胜 刘启
刘启
刘辩 刘启
孙权 诸葛瑾 孙策 周瑜 陆逊 丁奉 徐盛 鲁肃 张昭 蒋钦 太史慈 周泰 凌统 吕蒙 甘宁 黄盖 韩当 程普
孙尚香 刘备 吴国太
糜氏 刘备
糜芳 糜氏
糜竺 糜芳
魏延
赵云
黄忠
庞统
法正
蒋琬
马良
孟获
沙摩柯
庞德公 庞统
马谡 马良 诸葛亮 刘备
祝融 孟获
孙韶 孙策
孙策 孙坚
孙氏 陆逊 孙策
陆逊
刘协 刘辩
董卓 刘协 吕布
王允 刘协
貂蝉 王允 吕布
吕布 高顺 陈宫 张辽
丁原 吕布
高顺
陈宫
张辽
刘表 刘协 黄祖 文聘
蔡氏 刘表
蔡瑁 蔡氏
蒯越 蔡瑁
黄祖
文聘
张宝 张角
张角
张梁 张宝
袁绍 刘协
袁术 袁绍
袁谭 袁绍
袁熙 袁谭
袁尚 袁熙
吴国太 孙坚 孙权
孙坚 孙权
大乔 孙策 陆逊
小乔 大乔
周瑜 小乔
丁奉
徐盛
鲁肃
张昭
蒋钦
太史慈
周泰
凌统
吕蒙
甘宁
黄盖
韩当
程普
曹嵩 曹操
吕伯奢 曹嵩
邹氏 曹操 张绣
张绣
清河公主 曹操
夏侯楙 清河公主
夏侯渊 夏侯楙 夏侯淳
夏侯淳
曹真
曹爽 曹真
郭嘉
徐晃
乐进
张郃
许褚
典韦
荀彧 荀攸
荀攸
贾诩
司马懿
程昱
于禁
邓艾
钟会
庞德
司马师 司马懿
司马昭 司马师 司马懿
司马炎 司马昭
曹仁 曹操
曹纯 曹仁
曹昂 曹操
刘氏 曹操
超昂 刘氏
卞氏 曹操
曹丕 卞氏
曹植 曹丕
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 将邻接表导出为本地文件 grid.edgelist</span>
<span class="n">nx</span><span class="o">.</span><span class="n">write_edgelist</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;data/grid.edgelist&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 从本地文件 grid.edgelist 读取邻接表</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">read_edgelist</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;data/grid.edgelist&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 可视化</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">14</span><span class="p">))</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/98e3f0487ead121706354a7bb5dcdfc5309d18494321d5d5c80cfc26f531c72f.png" src="../_images/98e3f0487ead121706354a7bb5dcdfc5309d18494321d5d5c80cfc26f531c72f.png" />
</div>
</div>
</div>
<div class="section" id="id24">
<h1>创建结点<a class="headerlink" href="#id24" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id25">
<h2>创建无结点，无连接的空图<a class="headerlink" href="#id25" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;networkx.classes.graph.Graph at 0x216bf14d700&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView(())
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 可视化</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>  <span class="c1">## 可以看到是空的</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/364851f7d7a0b5e018b666f9702efb82da249fc7e57a1ed458b624658de14e48.png" src="../_images/364851f7d7a0b5e018b666f9702efb82da249fc7e57a1ed458b624658de14e48.png" />
</div>
</div>
</div>
</div>
<div class="section" id="id26">
<h1>添加单个结点<a class="headerlink" href="#id26" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;刘备&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;刘备&#39;,))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Tommy&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;刘备&#39;, &#39;Tommy&#39;))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;刘备&#39;, &#39;Tommy&#39;, 1))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### 添加多个结点</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">([</span><span class="s1">&#39;诸葛亮&#39;</span><span class="p">,</span> <span class="s1">&#39;曹操&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;刘备&#39;, &#39;Tommy&#39;, 1, &#39;诸葛亮&#39;, &#39;曹操&#39;))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">105</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;刘备&#39;, &#39;Tommy&#39;, 1, &#39;诸葛亮&#39;, &#39;曹操&#39;, 100, 101, 102, 103, 104))
</pre></div>
</div>
</div>
</div>
<div class="section" id="id27">
<h2>添加带属性特征的结点<a class="headerlink" href="#id27" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">&#39;关羽&#39;</span><span class="p">,{</span><span class="s1">&#39;武器&#39;</span><span class="p">:</span><span class="s1">&#39;青龙偃月刀&#39;</span><span class="p">,</span><span class="s1">&#39;武力值&#39;</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="s1">&#39;智力值&#39;</span><span class="p">:</span><span class="mi">80</span><span class="p">}),</span>
    <span class="p">(</span><span class="s1">&#39;张飞&#39;</span><span class="p">,{</span><span class="s1">&#39;武器&#39;</span><span class="p">:</span><span class="s1">&#39;丈八蛇矛&#39;</span><span class="p">,</span><span class="s1">&#39;武力值&#39;</span><span class="p">:</span><span class="mi">95</span><span class="p">,</span><span class="s1">&#39;智力值&#39;</span><span class="p">:</span><span class="mi">75</span><span class="p">}),</span>
    <span class="p">(</span><span class="s1">&#39;吕布&#39;</span><span class="p">,{</span><span class="s1">&#39;武器&#39;</span><span class="p">:</span><span class="s1">&#39;方天画戟&#39;</span><span class="p">,</span><span class="s1">&#39;武力值&#39;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="s1">&#39;智力值&#39;</span><span class="p">:</span><span class="mi">70</span><span class="p">})</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;刘备&#39;, &#39;Tommy&#39;, 1, &#39;诸葛亮&#39;, &#39;曹操&#39;, 100, 101, 102, 103, 104, &#39;关羽&#39;, &#39;张飞&#39;, &#39;吕布&#39;))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 可视化</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/0162e179399cc366b32c391b4c8583bdce414078005653975ae136b4ae9e4426.png" src="../_images/0162e179399cc366b32c391b4c8583bdce414078005653975ae136b4ae9e4426.png" />
</div>
</div>
</div>
</div>
<div class="section" id="path-graph">
<h1>创建另一个首尾相连成串的Path Graph<a class="headerlink" href="#path-graph" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">H</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">path_graph</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 可视化</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/3fd9858ca2f62ebcdd75cb7a06eeca22fc8c8ecdbaf59ea2597356671bae006b.png" src="../_images/3fd9858ca2f62ebcdd75cb7a06eeca22fc8c8ecdbaf59ea2597356671bae006b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">H</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((0, 1, 2, 3, 4, 5, 6, 7, 8, 9))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### 将H的结点添加到G中</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;刘备&#39;, &#39;Tommy&#39;, 1, &#39;诸葛亮&#39;, &#39;曹操&#39;, 100, 101, 102, 103, 104, &#39;关羽&#39;, &#39;张飞&#39;, &#39;吕布&#39;, 0, 2, 3, 4, 5, 6, 7, 8, 9))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>22
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/cd67ebd74cbb8927188fdfcccb57860b9b538626cf70b2cfcdef39446596024d.png" src="../_images/cd67ebd74cbb8927188fdfcccb57860b9b538626cf70b2cfcdef39446596024d.png" />
</div>
</div>
</div>
<div class="section" id="hg">
<h1>将H本身作为结点添加到G中<a class="headerlink" href="#hg" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;刘备&#39;, &#39;Tommy&#39;, 1, &#39;诸葛亮&#39;, &#39;曹操&#39;, 100, 101, 102, 103, 104, &#39;关羽&#39;, &#39;张飞&#39;, &#39;吕布&#39;, 0, 2, 3, 4, 5, 6, 7, 8, 9, &lt;networkx.classes.graph.Graph object at 0x00000216BF282D90&gt;))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>23
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/75b75eca96450b0516d907657dc801d9678c7444c54011339d73489e16df97b7.png" src="../_images/75b75eca96450b0516d907657dc801d9678c7444c54011339d73489e16df97b7.png" />
</div>
</div>
</div>
<div class="section" id="id28">
<h1>小贴士<a class="headerlink" href="#id28" title="Permalink to this headline">#</a></h1>
<p>结点可以是任意可哈希的对象，比如字符串、图像、XML对象、甚至另一个graph、自定义的节点对象
通过这种方式，你可以根据你的应用、自由灵活的构建，图为结点、文件为结点、函数为结点等灵活的图形式</p>
</div>
<div class="section" id="id29">
<h1>创建连接<a class="headerlink" href="#id29" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#### 创建无向图</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">is_directed</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 给整张图添加特征属性</span>
<span class="n">G</span><span class="o">.</span><span class="n">graph</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;hello world&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Name&#39;: &#39;hello world&#39;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 创建有向图</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
<span class="n">H</span><span class="o">.</span><span class="n">is_directed</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id30">
<h1>创建单个结点<a class="headerlink" href="#id30" title="Permalink to this headline">#</a></h1>
<p>####### 特征属性的名字可以随便起</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 创建0号结点，并添加特征属性</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">feature</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">wudi</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;feature&#39;: 5, &#39;label&#39;: 0, &#39;wudi&#39;: 2}
</pre></div>
</div>
</div>
</div>
<div class="section" id="id31">
<h2>创建多个结点<a class="headerlink" href="#id31" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">([</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;feature&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;wudi&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">}),</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;feature&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;wudi&#39;</span><span class="p">:</span><span class="mi">4</span><span class="p">})</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id32">
<h2>全图结点信息<a class="headerlink" href="#id32" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">number_of_nodes</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((0, 1, 2))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeDataView({0: {&#39;feature&#39;: 5, &#39;label&#39;: 0, &#39;wudi&#39;: 2}, 1: {&#39;feature&#39;: 1, &#39;label&#39;: 2, &#39;wudi&#39;: 3}, 2: {&#39;feature&#39;: 2, &#39;label&#39;: 2, &#39;wudi&#39;: 4}})
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 遍历所有结点，并输出结点对应的属性信息</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0, {&#39;feature&#39;: 5, &#39;label&#39;: 0, &#39;wudi&#39;: 2})
(1, {&#39;feature&#39;: 1, &#39;label&#39;: 2, &#39;wudi&#39;: 3})
(2, {&#39;feature&#39;: 2, &#39;label&#39;: 2, &#39;wudi&#39;: 4})
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id33">
<h2>创建单个连接，设置属性特征<a class="headerlink" href="#id33" title="Permalink to this headline">#</a></h2>
<p>########## 特征属性的名字可以随便起</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">like</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id34">
<h2>创建多个连接<a class="headerlink" href="#id34" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span><span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;like&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">}),</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span><span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;like&#39;</span><span class="p">:</span><span class="mi">8</span><span class="p">})</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 可视化</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7cf90c1bf57d08384d3d7f53d97c6860400d962bc3815e1344880dac3a1a0bf6.png" src="../_images/7cf90c1bf57d08384d3d7f53d97c6860400d962bc3815e1344880dac3a1a0bf6.png" />
</div>
</div>
</div>
<div class="section" id="id35">
<h2>全图连接信息<a class="headerlink" href="#id35" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">number_of_edges</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EdgeView([(0, 1), (0, 2), (1, 2)])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EdgeDataView([(0, 1, {&#39;weight&#39;: 0.5, &#39;like&#39;: 3}), (0, 2, {&#39;weight&#39;: 0.1, &#39;like&#39;: 8}), (1, 2, {&#39;weight&#39;: 0.3, &#39;like&#39;: 5})])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 遍历所有连接，并输出连接对应的特征属性信息</span>
<span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">edge</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0, 1, {&#39;weight&#39;: 0.5, &#39;like&#39;: 3})
(0, 2, {&#39;weight&#39;: 0.1, &#39;like&#39;: 8})
(1, 2, {&#39;weight&#39;: 0.3, &#39;like&#39;: 5})
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="node-degree">
<h2>结点的连接数（Node degree）<a class="headerlink" href="#node-degree" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 指定结点</span>
<span class="n">node_id</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 指定结点的所有相邻结点</span>
<span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">node_id</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s1"> has neighbour </span><span class="si">{</span><span class="n">neighbor</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Node 1 has neighbour 0
Node 1 has neighbour 2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># nx.draw() 可视化函数</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="x4">
<h1>创建4x4网格图<a class="headerlink" href="#x4" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">grid_2d_graph</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id36">
<h1>原生可视化<a class="headerlink" href="#id36" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2ab79c6dba55acfc38493d74f5d025e54105fe6b2a96f540c4793a73df0dbe98.png" src="../_images/2ab79c6dba55acfc38493d74f5d025e54105fe6b2a96f540c4793a73df0dbe98.png" />
</div>
</div>
<div class="section" id="id37">
<h2>不显示结点<a class="headerlink" href="#id37" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/408051a359e49072257ce6e4ecb4257eea06dd4bf57bcb7d338be9a063477767.png" src="../_images/408051a359e49072257ce6e4ecb4257eea06dd4bf57bcb7d338be9a063477767.png" />
</div>
</div>
</div>
<div class="section" id="id38">
<h2>设置颜色<a class="headerlink" href="#id38" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">number_of_edges</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>24
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span>
    <span class="n">G</span><span class="p">,</span>
    <span class="n">pos</span><span class="p">,</span>
    <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;#A0CBE2&#39;</span><span class="p">,</span> <span class="c1"># 结点颜色</span>
    <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>     <span class="c1"># 结点外边缘颜色</span>
    <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>    <span class="c1"># 边的颜色</span>
    <span class="c1"># edge_cmap = plt.cm.coolwarm  # 配色方案</span>
    <span class="n">node_size</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span>
    <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/938c05fc22314cc78dc58cdd6fb4b0f8b35e7d471f2ca64ca6281378e8e0e59f.png" src="../_images/938c05fc22314cc78dc58cdd6fb4b0f8b35e7d471f2ca64ca6281378e8e0e59f.png" />
</div>
</div>
</div>
<div class="section" id="id39">
<h2>有向图<a class="headerlink" href="#id39" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span>
    <span class="n">G</span><span class="o">.</span><span class="n">to_directed</span><span class="p">(),</span>
    <span class="n">pos</span><span class="p">,</span>
    <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;tab:orange&#39;</span><span class="p">,</span> <span class="c1"># 结点颜色</span>
    <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>     <span class="c1"># 结点外边缘颜色</span>
    <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;tab:gray&#39;</span><span class="p">,</span>    <span class="c1"># 边的颜色</span>
    <span class="c1"># edge_cmap = plt.cm.coolwarm  # 配色方案</span>
    <span class="n">node_size</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
    <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">arrowsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ec7ebf758ee7487de6a604e1e3125b08e5b4087ee00f7a9b435e6c0966a4f2b1.png" src="../_images/ec7ebf758ee7487de6a604e1e3125b08e5b4087ee00f7a9b435e6c0966a4f2b1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="id40">
<h1>设置每个结点的坐标<a class="headerlink" href="#id40" title="Permalink to this headline">#</a></h1>
<div class="section" id="id41">
<h2>无向图<a class="headerlink" href="#id41" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/fd024629ef87b639114a72e456e329d81010da57b536860415b8857409d645fd.png" src="../_images/fd024629ef87b639114a72e456e329d81010da57b536860415b8857409d645fd.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 设置每个结点可视化时的坐标</span>
<span class="n">pos</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">2</span><span class="p">:(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="mi">3</span><span class="p">:(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.17</span><span class="p">),</span> <span class="mi">4</span><span class="p">:(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">0.255</span><span class="p">),</span> <span class="mi">5</span><span class="p">:(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">)}</span>

<span class="c1"># 设置其可视化样式</span>
<span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;font_size&#39;</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span>
    <span class="s1">&#39;node_size&#39;</span><span class="p">:</span><span class="mi">3000</span><span class="p">,</span>
    <span class="s1">&#39;node_color&#39;</span><span class="p">:</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
    <span class="s1">&#39;edgecolors&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
    <span class="s1">&#39;linewidths&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span>  <span class="c1"># 结点线宽</span>
    <span class="s1">&#39;width&#39;</span><span class="p">:</span><span class="mi">5</span>
<span class="p">}</span>

<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f2df9918cb554697a2e9f2a4994e907244b867b6f598ab84b9f6e520f7e713eb.png" src="../_images/f2df9918cb554697a2e9f2a4994e907244b867b6f598ab84b9f6e520f7e713eb.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#### 有向图</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/734d369b2568808b215a7895a3f682a06ab85c088d4aa5986ad153a10122fbb2.png" src="../_images/734d369b2568808b215a7895a3f682a06ab85c088d4aa5986ad153a10122fbb2.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 可视化时每一列包含的结点</span>
<span class="n">left_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">middle_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">right_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 可视化时每个结点的坐标</span>
<span class="n">pos</span> <span class="o">=</span> <span class="p">{</span><span class="n">n</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">left_nodes</span><span class="p">)}</span>
<span class="n">pos</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">n</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">middle_nodes</span><span class="p">)})</span>
<span class="n">pos</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">n</span><span class="p">:(</span><span class="mi">2</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">right_nodes</span><span class="p">)})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: (0, 0),
 1: (0, 1),
 2: (0, 2),
 3: (1, 0.5),
 4: (1, 1.5),
 5: (2, 0.5),
 6: (2, 1.5)}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/41660e3d19dece6253c2981928d513ca88b78090e347a9b85541dfdf8e1b0fcd.png" src="../_images/41660e3d19dece6253c2981928d513ca88b78090e347a9b85541dfdf8e1b0fcd.png" />
</div>
</div>
</div>
<div class="section" id="id42">
<h2>再来一个案例<a class="headerlink" href="#id42" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">house_graph</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/136859fd98a3d878a85c920ffc30b0aefabc9a967b987c4ef7b0df2148cc881f.png" src="../_images/136859fd98a3d878a85c920ffc30b0aefabc9a967b987c4ef7b0df2148cc881f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 设置结点坐标</span>
<span class="n">pos</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">2</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">3</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">4</span><span class="p">:(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="c1"># 绘制墙角的四个结点</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">nodelist</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;tab:blue&#39;</span><span class="p">)</span>

<span class="c1"># 绘制屋顶结点</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">nodelist</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;tab:orange&#39;</span><span class="p">)</span>

<span class="c1"># 绘制连接</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/5d766bf384f9928ed4fa3baf52e86c39f2a51c400dd98a652d8bae96b7a8c179.png" src="../_images/5d766bf384f9928ed4fa3baf52e86c39f2a51c400dd98a652d8bae96b7a8c179.png" />
</div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="id43">
<h1>美国128城市交通关系无向图可视化<a class="headerlink" href="#id43" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 导入工具包</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">gzip</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id44">
<h2>构建图<a class="headerlink" href="#id44" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fh</span> <span class="o">=</span> <span class="n">gzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;./data/knuth_miles.txt.gz&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="n">G</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">G</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cities</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fh</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span> <span class="c1"># 遍历文件中的每一行</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">):</span>
        <span class="k">continue</span>
    
    <span class="n">numfind</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^\d+&quot;</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">numfind</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">):</span> <span class="c1"># 记录城市间距离的行</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dist</span><span class="p">:</span>
            <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">city</span><span class="p">,</span> <span class="n">cities</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">weight</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="p">(</span><span class="n">city</span><span class="p">,</span> <span class="n">coordpop</span><span class="p">)</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)</span>
        <span class="n">cities</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">city</span><span class="p">)</span>
        <span class="p">(</span><span class="n">coord</span><span class="p">,</span> <span class="n">pop</span><span class="p">)</span> <span class="o">=</span> <span class="n">coordpop</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;]&#39;</span><span class="p">)</span>
        <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">coord</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        
        <span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">city</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="o">-</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span> 
        <span class="n">G</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="n">city</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">pop</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">pop</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span> 
        <span class="n">G</span><span class="o">.</span><span class="n">population</span><span class="p">[</span><span class="n">city</span><span class="p">]</span> <span class="o">=</span> <span class="n">pop</span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id45">
<h2>查看图<a class="headerlink" href="#id45" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Graph with 128 nodes and 8128 edges
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">number_of_edges</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8128
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">number_of_nodes</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>128
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;Youngstown, OH&#39;, &#39;Yankton, SD&#39;, &#39;Yakima, WA&#39;, &#39;Worcester, MA&#39;, &#39;Wisconsin Dells, WI&#39;, &#39;Winston-Salem, NC&#39;, &#39;Winnipeg, MB&#39;, &#39;Winchester, VA&#39;, &#39;Wilmington, NC&#39;, &#39;Wilmington, DE&#39;, &#39;Williston, ND&#39;, &#39;Williamsport, PA&#39;, &#39;Williamson, WV&#39;, &#39;Wichita Falls, TX&#39;, &#39;Wichita, KS&#39;, &#39;Wheeling, WV&#39;, &#39;West Palm Beach, FL&#39;, &#39;Wenatchee, WA&#39;, &#39;Weed, CA&#39;, &#39;Waycross, GA&#39;, &#39;Wausau, WI&#39;, &#39;Waukegan, IL&#39;, &#39;Watertown, SD&#39;, &#39;Watertown, NY&#39;, &#39;Waterloo, IA&#39;, &#39;Waterbury, CT&#39;, &#39;Washington, DC&#39;, &#39;Warren, PA&#39;, &#39;Walla Walla, WA&#39;, &#39;Waco, TX&#39;, &#39;Vincennes, IN&#39;, &#39;Victoria, TX&#39;, &#39;Vicksburg, MS&#39;, &#39;Vancouver, BC&#39;, &#39;Valley City, ND&#39;, &#39;Valdosta, GA&#39;, &#39;Utica, NY&#39;, &#39;Uniontown, PA&#39;, &#39;Tyler, TX&#39;, &#39;Twin Falls, ID&#39;, &#39;Tuscaloosa, AL&#39;, &#39;Tupelo, MS&#39;, &#39;Tulsa, OK&#39;, &#39;Tucson, AZ&#39;, &#39;Trinidad, CO&#39;, &#39;Trenton, NJ&#39;, &#39;Traverse City, MI&#39;, &#39;Toronto, ON&#39;, &#39;Topeka, KS&#39;, &#39;Toledo, OH&#39;, &#39;Texarkana, TX&#39;, &#39;Terre Haute, IN&#39;, &#39;Tampa, FL&#39;, &#39;Tallahassee, FL&#39;, &#39;Tacoma, WA&#39;, &#39;Syracuse, NY&#39;, &#39;Swainsboro, GA&#39;, &#39;Sumter, SC&#39;, &#39;Stroudsburg, PA&#39;, &#39;Stockton, CA&#39;, &#39;Stevens Point, WI&#39;, &#39;Steubenville, OH&#39;, &#39;Sterling, CO&#39;, &#39;Staunton, VA&#39;, &#39;Springfield, OH&#39;, &#39;Springfield, MO&#39;, &#39;Springfield, MA&#39;, &#39;Springfield, IL&#39;, &#39;Spokane, WA&#39;, &#39;South Bend, IN&#39;, &#39;Sioux Falls, SD&#39;, &#39;Sioux City, IA&#39;, &#39;Shreveport, LA&#39;, &#39;Sherman, TX&#39;, &#39;Sheridan, WY&#39;, &#39;Seminole, OK&#39;, &#39;Selma, AL&#39;, &#39;Sedalia, MO&#39;, &#39;Seattle, WA&#39;, &#39;Scranton, PA&#39;, &#39;Scottsbluff, NE&#39;, &#39;Schenectady, NY&#39;, &#39;Savannah, GA&#39;, &#39;Sault Sainte Marie, MI&#39;, &#39;Sarasota, FL&#39;, &#39;Santa Rosa, CA&#39;, &#39;Santa Fe, NM&#39;, &#39;Santa Barbara, CA&#39;, &#39;Santa Ana, CA&#39;, &#39;San Jose, CA&#39;, &#39;San Francisco, CA&#39;, &#39;Sandusky, OH&#39;, &#39;San Diego, CA&#39;, &#39;San Bernardino, CA&#39;, &#39;San Antonio, TX&#39;, &#39;San Angelo, TX&#39;, &#39;Salt Lake City, UT&#39;, &#39;Salisbury, MD&#39;, &#39;Salinas, CA&#39;, &#39;Salina, KS&#39;, &#39;Salida, CO&#39;, &#39;Salem, OR&#39;, &#39;Saint Paul, MN&#39;, &#39;Saint Louis, MO&#39;, &#39;Saint Joseph, MO&#39;, &#39;Saint Joseph, MI&#39;, &#39;Saint Johnsbury, VT&#39;, &#39;Saint Cloud, MN&#39;, &#39;Saint Augustine, FL&#39;, &#39;Saginaw, MI&#39;, &#39;Sacramento, CA&#39;, &#39;Rutland, VT&#39;, &#39;Roswell, NM&#39;, &#39;Rocky Mount, NC&#39;, &#39;Rock Springs, WY&#39;, &#39;Rockford, IL&#39;, &#39;Rochester, NY&#39;, &#39;Rochester, MN&#39;, &#39;Roanoke, VA&#39;, &#39;Richmond, VA&#39;, &#39;Richmond, IN&#39;, &#39;Richfield, UT&#39;, &#39;Rhinelander, WI&#39;, &#39;Reno, NV&#39;, &#39;Regina, SK&#39;, &#39;Red Bluff, CA&#39;, &#39;Reading, PA&#39;, &#39;Ravenna, OH&#39;))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#### 128城市经纬度坐标</span>
<span class="n">G</span><span class="o">.</span><span class="n">position</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Youngstown, OH&#39;: (-80.65, 41.1),
 &#39;Yankton, SD&#39;: (-97.39, 42.88),
 &#39;Yakima, WA&#39;: (-120.51, 46.6),
 &#39;Worcester, MA&#39;: (-71.8, 42.27),
 &#39;Wisconsin Dells, WI&#39;: (-89.77, 43.63),
 &#39;Winston-Salem, NC&#39;: (-80.25, 36.1),
 &#39;Winnipeg, MB&#39;: (-97.15, 49.88),
 &#39;Winchester, VA&#39;: (-78.16, 39.19),
 &#39;Wilmington, NC&#39;: (-77.92, 34.24),
 &#39;Wilmington, DE&#39;: (-75.55, 39.75),
 &#39;Williston, ND&#39;: (-103.62, 48.15),
 &#39;Williamsport, PA&#39;: (-77.0, 41.25),
 &#39;Williamson, WV&#39;: (-82.28, 37.68),
 &#39;Wichita Falls, TX&#39;: (-98.49, 33.9),
 &#39;Wichita, KS&#39;: (-97.34, 37.69),
 &#39;Wheeling, WV&#39;: (-80.72, 40.07),
 &#39;West Palm Beach, FL&#39;: (-80.05, 26.72),
 &#39;Wenatchee, WA&#39;: (-120.32, 47.42),
 &#39;Weed, CA&#39;: (-122.39, 41.42),
 &#39;Waycross, GA&#39;: (-82.35, 31.22),
 &#39;Wausau, WI&#39;: (-89.64, 44.96),
 &#39;Waukegan, IL&#39;: (-87.83, 42.36),
 &#39;Watertown, SD&#39;: (-97.11, 44.9),
 &#39;Watertown, NY&#39;: (-75.92, 43.98),
 &#39;Waterloo, IA&#39;: (-92.34, 42.5),
 &#39;Waterbury, CT&#39;: (-73.05, 41.55),
 &#39;Washington, DC&#39;: (-77.03, 38.89),
 &#39;Warren, PA&#39;: (-79.14, 41.85),
 &#39;Walla Walla, WA&#39;: (-118.33, 46.07),
 &#39;Waco, TX&#39;: (-97.14, 31.55),
 &#39;Vincennes, IN&#39;: (-87.53, 38.68),
 &#39;Victoria, TX&#39;: (-97.01, 28.81),
 &#39;Vicksburg, MS&#39;: (-90.88, 32.35),
 &#39;Vancouver, BC&#39;: (-123.12, 49.27),
 &#39;Valley City, ND&#39;: (-98.01, 46.92),
 &#39;Valdosta, GA&#39;: (-83.28, 30.83),
 &#39;Utica, NY&#39;: (-75.23, 43.11),
 &#39;Uniontown, PA&#39;: (-79.73, 39.9),
 &#39;Tyler, TX&#39;: (-95.3, 32.35),
 &#39;Twin Falls, ID&#39;: (-114.47, 42.56),
 &#39;Tuscaloosa, AL&#39;: (-87.57, 33.21),
 &#39;Tupelo, MS&#39;: (-88.71, 34.26),
 &#39;Tulsa, OK&#39;: (-95.91, 36.16),
 &#39;Tucson, AZ&#39;: (-110.97, 32.22),
 &#39;Trinidad, CO&#39;: (-104.51, 37.17),
 &#39;Trenton, NJ&#39;: (-74.77, 40.23),
 &#39;Traverse City, MI&#39;: (-85.63, 44.76),
 &#39;Toronto, ON&#39;: (-79.38, 43.65),
 &#39;Topeka, KS&#39;: (-95.67, 39.05),
 &#39;Toledo, OH&#39;: (-83.54, 41.65),
 &#39;Texarkana, TX&#39;: (-94.05, 33.43),
 &#39;Terre Haute, IN&#39;: (-87.41, 39.47),
 &#39;Tampa, FL&#39;: (-82.45, 27.95),
 &#39;Tallahassee, FL&#39;: (-84.28, 30.45),
 &#39;Tacoma, WA&#39;: (-122.43, 47.24),
 &#39;Syracuse, NY&#39;: (-76.15, 43.05),
 &#39;Swainsboro, GA&#39;: (-82.34, 32.6),
 &#39;Sumter, SC&#39;: (-80.35, 33.92),
 &#39;Stroudsburg, PA&#39;: (-75.19, 40.99),
 &#39;Stockton, CA&#39;: (-121.29, 37.96),
 &#39;Stevens Point, WI&#39;: (-89.57, 44.52),
 &#39;Steubenville, OH&#39;: (-80.62, 40.36),
 &#39;Sterling, CO&#39;: (-103.22, 40.62),
 &#39;Staunton, VA&#39;: (-79.07, 38.15),
 &#39;Springfield, OH&#39;: (-83.81, 39.92),
 &#39;Springfield, MO&#39;: (-93.29, 37.22),
 &#39;Springfield, MA&#39;: (-72.59, 42.1),
 &#39;Springfield, IL&#39;: (-89.65, 39.8),
 &#39;Spokane, WA&#39;: (-117.41, 47.67),
 &#39;South Bend, IN&#39;: (-86.25, 41.68),
 &#39;Sioux Falls, SD&#39;: (-96.73, 43.54),
 &#39;Sioux City, IA&#39;: (-96.39, 42.49),
 &#39;Shreveport, LA&#39;: (-93.75, 32.51),
 &#39;Sherman, TX&#39;: (-96.61, 33.64),
 &#39;Sheridan, WY&#39;: (-106.96, 44.8),
 &#39;Seminole, OK&#39;: (-96.68, 35.23),
 &#39;Selma, AL&#39;: (-87.02, 32.42),
 &#39;Sedalia, MO&#39;: (-93.23, 38.71),
 &#39;Seattle, WA&#39;: (-122.33, 47.6),
 &#39;Scranton, PA&#39;: (-75.67, 41.41),
 &#39;Scottsbluff, NE&#39;: (-103.66, 41.87),
 &#39;Schenectady, NY&#39;: (-73.95, 42.82),
 &#39;Savannah, GA&#39;: (-81.09, 32.08),
 &#39;Sault Sainte Marie, MI&#39;: (-84.35, 46.49),
 &#39;Sarasota, FL&#39;: (-82.53, 27.34),
 &#39;Santa Rosa, CA&#39;: (-122.72, 38.44),
 &#39;Santa Fe, NM&#39;: (-105.95, 35.68),
 &#39;Santa Barbara, CA&#39;: (-119.7, 34.42),
 &#39;Santa Ana, CA&#39;: (-117.87, 33.76),
 &#39;San Jose, CA&#39;: (-121.88, 37.34),
 &#39;San Francisco, CA&#39;: (-122.42, 37.78),
 &#39;Sandusky, OH&#39;: (-82.71, 41.45),
 &#39;San Diego, CA&#39;: (-117.15, 32.71),
 &#39;San Bernardino, CA&#39;: (-117.31, 34.11),
 &#39;San Antonio, TX&#39;: (-98.5, 29.42),
 &#39;San Angelo, TX&#39;: (-100.44, 31.46),
 &#39;Salt Lake City, UT&#39;: (-111.88, 40.76),
 &#39;Salisbury, MD&#39;: (-75.6, 38.37),
 &#39;Salinas, CA&#39;: (-121.65, 36.67),
 &#39;Salina, KS&#39;: (-97.61, 38.84),
 &#39;Salida, CO&#39;: (-106.0, 38.53),
 &#39;Salem, OR&#39;: (-123.03, 44.94),
 &#39;Saint Paul, MN&#39;: (-93.1, 44.95),
 &#39;Saint Louis, MO&#39;: (-90.19, 38.62),
 &#39;Saint Joseph, MO&#39;: (-94.84, 39.77),
 &#39;Saint Joseph, MI&#39;: (-86.48, 42.1),
 &#39;Saint Johnsbury, VT&#39;: (-72.02, 44.42),
 &#39;Saint Cloud, MN&#39;: (-94.17, 45.57),
 &#39;Saint Augustine, FL&#39;: (-81.32, 29.89),
 &#39;Saginaw, MI&#39;: (-83.94, 43.43),
 &#39;Sacramento, CA&#39;: (-121.49, 38.59),
 &#39;Rutland, VT&#39;: (-72.97, 43.61),
 &#39;Roswell, NM&#39;: (-104.53, 33.4),
 &#39;Rocky Mount, NC&#39;: (-77.8, 35.94),
 &#39;Rock Springs, WY&#39;: (-109.23, 41.59),
 &#39;Rockford, IL&#39;: (-89.1, 42.27),
 &#39;Rochester, NY&#39;: (-77.61, 43.16),
 &#39;Rochester, MN&#39;: (-92.46, 44.02),
 &#39;Roanoke, VA&#39;: (-79.94, 37.27),
 &#39;Richmond, VA&#39;: (-77.45, 37.54),
 &#39;Richmond, IN&#39;: (-84.89, 39.83),
 &#39;Richfield, UT&#39;: (-112.09, 38.77),
 &#39;Rhinelander, WI&#39;: (-89.42, 45.64),
 &#39;Reno, NV&#39;: (-119.81, 39.52),
 &#39;Regina, SK&#39;: (-104.65, 50.42),
 &#39;Red Bluff, CA&#39;: (-122.24, 40.18),
 &#39;Reading, PA&#39;: (-75.93, 40.33),
 &#39;Ravenna, OH&#39;: (-81.24, 41.16)}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id46">
<h2>128城市人口数据<a class="headerlink" href="#id46" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">population</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Youngstown, OH&#39;: 115.436,
 &#39;Yankton, SD&#39;: 12.011,
 &#39;Yakima, WA&#39;: 49.826,
 &#39;Worcester, MA&#39;: 161.799,
 &#39;Wisconsin Dells, WI&#39;: 2.521,
 &#39;Winston-Salem, NC&#39;: 131.885,
 &#39;Winnipeg, MB&#39;: 564.473,
 &#39;Winchester, VA&#39;: 20.217,
 &#39;Wilmington, NC&#39;: 139.238,
 &#39;Wilmington, DE&#39;: 70.195,
 &#39;Williston, ND&#39;: 13.336,
 &#39;Williamsport, PA&#39;: 33.401,
 &#39;Williamson, WV&#39;: 5.219,
 &#39;Wichita Falls, TX&#39;: 94.201,
 &#39;Wichita, KS&#39;: 279.835,
 &#39;Wheeling, WV&#39;: 43.07,
 &#39;West Palm Beach, FL&#39;: 63.305,
 &#39;Wenatchee, WA&#39;: 17.257,
 &#39;Weed, CA&#39;: 2.879,
 &#39;Waycross, GA&#39;: 19.371,
 &#39;Wausau, WI&#39;: 32.426,
 &#39;Waukegan, IL&#39;: 67.653,
 &#39;Watertown, SD&#39;: 15.649,
 &#39;Watertown, NY&#39;: 27.861,
 &#39;Waterloo, IA&#39;: 75.985,
 &#39;Waterbury, CT&#39;: 103.266,
 &#39;Washington, DC&#39;: 638.432,
 &#39;Warren, PA&#39;: 12.146,
 &#39;Walla Walla, WA&#39;: 25.618,
 &#39;Waco, TX&#39;: 101.261,
 &#39;Vincennes, IN&#39;: 20.857,
 &#39;Victoria, TX&#39;: 50.695,
 &#39;Vicksburg, MS&#39;: 25.434,
 &#39;Vancouver, BC&#39;: 414.281,
 &#39;Valley City, ND&#39;: 7.774,
 &#39;Valdosta, GA&#39;: 37.596,
 &#39;Utica, NY&#39;: 75.632,
 &#39;Uniontown, PA&#39;: 14.51,
 &#39;Tyler, TX&#39;: 70.508,
 &#39;Twin Falls, ID&#39;: 26.209,
 &#39;Tuscaloosa, AL&#39;: 75.211,
 &#39;Tupelo, MS&#39;: 23.905,
 &#39;Tulsa, OK&#39;: 360.919,
 &#39;Tucson, AZ&#39;: 330.537,
 &#39;Trinidad, CO&#39;: 9.663,
 &#39;Trenton, NJ&#39;: 92.124,
 &#39;Traverse City, MI&#39;: 15.516,
 &#39;Toronto, ON&#39;: 599.217,
 &#39;Topeka, KS&#39;: 115.266,
 &#39;Toledo, OH&#39;: 354.635,
 &#39;Texarkana, TX&#39;: 31.271,
 &#39;Terre Haute, IN&#39;: 61.125,
 &#39;Tampa, FL&#39;: 271.523,
 &#39;Tallahassee, FL&#39;: 81.548,
 &#39;Tacoma, WA&#39;: 158.501,
 &#39;Syracuse, NY&#39;: 170.105,
 &#39;Swainsboro, GA&#39;: 7.602,
 &#39;Sumter, SC&#39;: 24.89,
 &#39;Stroudsburg, PA&#39;: 5.148,
 &#39;Stockton, CA&#39;: 149.779,
 &#39;Stevens Point, WI&#39;: 22.97,
 &#39;Steubenville, OH&#39;: 26.4,
 &#39;Sterling, CO&#39;: 11.385,
 &#39;Staunton, VA&#39;: 21.857,
 &#39;Springfield, OH&#39;: 72.563,
 &#39;Springfield, MO&#39;: 133.116,
 &#39;Springfield, MA&#39;: 152.319,
 &#39;Springfield, IL&#39;: 100.054,
 &#39;Spokane, WA&#39;: 171.3,
 &#39;South Bend, IN&#39;: 109.727,
 &#39;Sioux Falls, SD&#39;: 81.343,
 &#39;Sioux City, IA&#39;: 82.003,
 &#39;Shreveport, LA&#39;: 205.82,
 &#39;Sherman, TX&#39;: 30.413,
 &#39;Sheridan, WY&#39;: 15.146,
 &#39;Seminole, OK&#39;: 8.59,
 &#39;Selma, AL&#39;: 26.684,
 &#39;Sedalia, MO&#39;: 20.927,
 &#39;Seattle, WA&#39;: 493.846,
 &#39;Scranton, PA&#39;: 88.117,
 &#39;Scottsbluff, NE&#39;: 14.156,
 &#39;Schenectady, NY&#39;: 67.972,
 &#39;Savannah, GA&#39;: 141.634,
 &#39;Sault Sainte Marie, MI&#39;: 14.448,
 &#39;Sarasota, FL&#39;: 48.868,
 &#39;Santa Rosa, CA&#39;: 83.32,
 &#39;Santa Fe, NM&#39;: 48.953,
 &#39;Santa Barbara, CA&#39;: 74.414,
 &#39;Santa Ana, CA&#39;: 204.023,
 &#39;San Jose, CA&#39;: 629.546,
 &#39;San Francisco, CA&#39;: 678.974,
 &#39;Sandusky, OH&#39;: 31.36,
 &#39;San Diego, CA&#39;: 875.538,
 &#39;San Bernardino, CA&#39;: 118.794,
 &#39;San Antonio, TX&#39;: 786.023,
 &#39;San Angelo, TX&#39;: 73.24,
 &#39;Salt Lake City, UT&#39;: 163.697,
 &#39;Salisbury, MD&#39;: 16.429,
 &#39;Salinas, CA&#39;: 80.479,
 &#39;Salina, KS&#39;: 41.843,
 &#39;Salida, CO&#39;: 44.87,
 &#39;Salem, OR&#39;: 89.233,
 &#39;Saint Paul, MN&#39;: 270.23,
 &#39;Saint Louis, MO&#39;: 453.085,
 &#39;Saint Joseph, MO&#39;: 76.691,
 &#39;Saint Joseph, MI&#39;: 9.622,
 &#39;Saint Johnsbury, VT&#39;: 7.15,
 &#39;Saint Cloud, MN&#39;: 42.566,
 &#39;Saint Augustine, FL&#39;: 11.985,
 &#39;Saginaw, MI&#39;: 77.508,
 &#39;Sacramento, CA&#39;: 275.741,
 &#39;Rutland, VT&#39;: 18.436,
 &#39;Roswell, NM&#39;: 39.676,
 &#39;Rocky Mount, NC&#39;: 41.283,
 &#39;Rock Springs, WY&#39;: 19.458,
 &#39;Rockford, IL&#39;: 139.712,
 &#39;Rochester, NY&#39;: 241.741,
 &#39;Rochester, MN&#39;: 57.89,
 &#39;Roanoke, VA&#39;: 100.22,
 &#39;Richmond, VA&#39;: 219.214,
 &#39;Richmond, IN&#39;: 41.349,
 &#39;Richfield, UT&#39;: 5.482,
 &#39;Rhinelander, WI&#39;: 7.873,
 &#39;Reno, NV&#39;: 100.756,
 &#39;Regina, SK&#39;: 162.613,
 &#39;Red Bluff, CA&#39;: 9.49,
 &#39;Reading, PA&#39;: 78.686,
 &#39;Ravenna, OH&#39;: 11.987}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id47">
<h2>128城市互联互通关系<a class="headerlink" href="#id47" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># G.edges  # 行太多这里先不打印</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id48">
<h2>纽约到里士满的交通距离<a class="headerlink" href="#id48" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">[(</span><span class="s1">&#39;Rochester, NY&#39;</span><span class="p">,</span> <span class="s1">&#39;Richmond, VA&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;weight&#39;: 486}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id49">
<h2>筛选出距离小于指定阈值的城市<a class="headerlink" href="#id49" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">H</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">G</span><span class="p">:</span>
    <span class="n">H</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">800</span><span class="p">:</span>
        <span class="n">H</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id50">
<h2>可视化<a class="headerlink" href="#id50" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 结点颜色-结点度</span>
<span class="n">node_color</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">H</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">H</span><span class="p">]</span>

<span class="c1"># 结点尺寸-结点人口</span>
<span class="n">node_size</span> <span class="o">=</span> <span class="p">[</span><span class="n">G</span><span class="o">.</span><span class="n">population</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">H</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span>
    <span class="n">H</span><span class="p">,</span>
    <span class="n">G</span><span class="o">.</span><span class="n">position</span><span class="p">,</span>
    <span class="n">node_size</span> <span class="o">=</span> <span class="n">node_size</span><span class="p">,</span>
    <span class="n">node_color</span> <span class="o">=</span> <span class="n">node_color</span><span class="p">,</span>
    <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d4ab68594a6cf92359b08e21a78739455c9ef6cba6e44893a9228fa47496d802.png" src="../_images/d4ab68594a6cf92359b08e21a78739455c9ef6cba6e44893a9228fa47496d802.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 有向图可视化模板</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mlp</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id51">
<h2>创建有向图<a class="headerlink" href="#id51" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">seed</span> <span class="o">=</span> <span class="mi">13648</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">random_k_out_graph</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id52">
<h2>初步可视化<a class="headerlink" href="#id52" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/864e84df7b5ed8b811377e9e5623de06e0e47f9fb059825adf1357d981a5675e.png" src="../_images/864e84df7b5ed8b811377e9e5623de06e0e47f9fb059825adf1357d981a5675e.png" />
</div>
</div>
</div>
<div class="section" id="id53">
<h2>高级可视化设置<a class="headerlink" href="#id53" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 节点大小</span>
<span class="n">node_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">12</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">i</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="p">))]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">node_sizes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[12, 22, 32, 42, 52, 62, 72, 82, 92, 102]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 结点颜色</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">number_of_edges</span><span class="p">()</span>
<span class="n">edge_colors</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">M</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">edge_colors</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>range(2, 32)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 结点透明度</span>
<span class="n">edge_alphas</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">5</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span> <span class="n">M</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">M</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">edge_alphas</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0.14705882352941177,
 0.17647058823529413,
 0.20588235294117646,
 0.23529411764705882,
 0.2647058823529412,
 0.29411764705882354,
 0.3235294117647059,
 0.35294117647058826,
 0.38235294117647056,
 0.4117647058823529,
 0.4411764705882353,
 0.47058823529411764,
 0.5,
 0.5294117647058824,
 0.5588235294117647,
 0.5882352941176471,
 0.6176470588235294,
 0.6470588235294118,
 0.6764705882352942,
 0.7058823529411765,
 0.7352941176470589,
 0.7647058823529411,
 0.7941176470588235,
 0.8235294117647058,
 0.8529411764705882,
 0.8823529411764706,
 0.9117647058823529,
 0.9411764705882353,
 0.9705882352941176,
 1.0]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 配色方案</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">plasma</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># 绘制结点</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="n">node_sizes</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;indigo&#39;</span><span class="p">)</span>

<span class="c1"># 绘制连接</span>
<span class="n">edges</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span>
    <span class="n">G</span><span class="p">,</span>
    <span class="n">pos</span><span class="p">,</span>
    <span class="n">node_size</span> <span class="o">=</span> <span class="n">node_sizes</span><span class="p">,</span>
    <span class="n">arrowstyle</span><span class="o">=</span><span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span>
    <span class="n">edge_color</span><span class="o">=</span><span class="n">edge_colors</span><span class="p">,</span>
    <span class="n">edge_cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">4</span>
<span class="p">)</span>

<span class="c1"># 设置每个连接的透明度</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">M</span><span class="p">):</span>
    <span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="n">edge_alphas</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    
<span class="c1"># 调色图例</span>
<span class="n">pc</span> <span class="o">=</span> <span class="n">mlp</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">PatchCollection</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
<span class="n">pc</span><span class="o">.</span><span class="n">set_array</span><span class="p">(</span><span class="n">edge_colors</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">pc</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ff95108ff17b3a72d023f52362acfd6f293efb922d36aa4f9d13b40d5c55c900.png" src="../_images/ff95108ff17b3a72d023f52362acfd6f293efb922d36aa4f9d13b40d5c55c900.png" />
</div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="multigraph">
<h1>国际象棋对局MultiGraph多路图可视化<a class="headerlink" href="#multigraph" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">chess_pgn_graph</span><span class="p">(</span><span class="n">pgn_file</span><span class="o">=</span><span class="s2">&quot;./data/chess_masters_WCC.pgn.bz2&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Read chess games in pgn format in pgn_file.</span>
<span class="sd">    Filenames ending in .bz2 will be uncompressed.</span>
<span class="sd">    Return the MultiDiGraph of players connected by a chess game.</span>
<span class="sd">    Edges contain game data in a dict.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">bz2</span>

    <span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">()</span>
    <span class="n">game</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">with</span> <span class="n">bz2</span><span class="o">.</span><span class="n">BZ2File</span><span class="p">(</span><span class="n">pgn_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">datafile</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">datafile</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">):</span>
            <span class="n">tag</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">game</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">tag</span><span class="p">)]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># empty line after tag set indicates</span>
            <span class="c1"># we finished reading game info</span>
            <span class="k">if</span> <span class="n">game</span><span class="p">:</span>
                <span class="n">white</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;White&quot;</span><span class="p">)</span>
                <span class="n">black</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;Black&quot;</span><span class="p">)</span>
                <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">white</span><span class="p">,</span> <span class="n">black</span><span class="p">,</span> <span class="o">**</span><span class="n">game</span><span class="p">)</span>
                <span class="n">game</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="n">G</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 导入数据</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">chess_pgn_graph</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">number_of_edges</span><span class="p">()</span> <span class="c1"># 对局数</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>685
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">number_of_nodes</span><span class="p">()</span> <span class="c1"># 棋手数</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>25
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((&#39;Zukertort, Johannes H&#39;, &#39;Steinitz, Wilhelm&#39;, &#39;Chigorin, Mikhail I&#39;, &#39;Gunsberg, Isidor A&#39;, &#39;Lasker, Emanuel&#39;, &#39;Marshall, Frank J&#39;, &#39;Tarrasch, Siegbert&#39;, &#39;Janowski, Dawid M&#39;, &#39;Schlechter, Carl&#39;, &#39;Capablanca, Jose Raul&#39;, &#39;Alekhine, Alexander A&#39;, &#39;Bogoljubow, Efim D&#39;, &#39;Euwe, Max&#39;, &#39;Keres, Paul&#39;, &#39;Smyslov, Vassily V&#39;, &#39;Reshevsky, Samuel H&#39;, &#39;Botvinnik, Mikhail M&#39;, &#39;Bronstein, David I&#39;, &#39;Tal, Mikhail N&#39;, &#39;Petrosian, Tigran V&#39;, &#39;Spassky, Boris V&#39;, &#39;Fischer, Robert J&#39;, &#39;Korchnoi, Viktor L&#39;, &#39;Karpov, Anatoly&#39;, &#39;Kasparov, Gary&#39;))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 两个棋手之间的所有棋局</span>
<span class="n">G</span><span class="o">.</span><span class="n">get_edge_data</span><span class="p">(</span><span class="s1">&#39;Zukertort, Johannes H&#39;</span><span class="p">,</span> <span class="s1">&#39;Steinitz, Wilhelm&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: {&#39;Event&#39;: &#39;World Championship 1st&#39;,
  &#39;Site&#39;: &#39;USA&#39;,
  &#39;Date&#39;: &#39;1886.01.11&#39;,
  &#39;Round&#39;: &#39;1&#39;,
  &#39;Result&#39;: &#39;0-1&#39;,
  &#39;ECO&#39;: &#39;D11&#39;,
  &#39;EventDate&#39;: &#39;1886.01.11&#39;},
 1: {&#39;Event&#39;: &#39;World Championship 1st&#39;,
  &#39;Site&#39;: &#39;USA&#39;,
  &#39;Date&#39;: &#39;1886.01.15&#39;,
  &#39;Round&#39;: &#39;3&#39;,
  &#39;Result&#39;: &#39;1-0&#39;,
  &#39;ECO&#39;: &#39;D10&#39;,
  &#39;EventDate&#39;: &#39;1886.01.11&#39;},
 2: {&#39;Event&#39;: &#39;World Championship 1st&#39;,
  &#39;Site&#39;: &#39;USA&#39;,
  &#39;Date&#39;: &#39;1886.01.20&#39;,
  &#39;Round&#39;: &#39;5&#39;,
  &#39;Result&#39;: &#39;1-0&#39;,
  &#39;ECO&#39;: &#39;D10&#39;,
  &#39;EventDate&#39;: &#39;1886.01.11&#39;},
 3: {&#39;Event&#39;: &#39;World Championship 1st&#39;,
  &#39;Site&#39;: &#39;USA&#39;,
  &#39;Date&#39;: &#39;1886.02.05&#39;,
  &#39;Round&#39;: &#39;7&#39;,
  &#39;Result&#39;: &#39;0-1&#39;,
  &#39;ECO&#39;: &#39;D40&#39;,
  &#39;EventDate&#39;: &#39;1886.01.11&#39;},
 4: {&#39;Event&#39;: &#39;World Championship 1st&#39;,
  &#39;Site&#39;: &#39;USA&#39;,
  &#39;Date&#39;: &#39;1886.02.10&#39;,
  &#39;Round&#39;: &#39;9&#39;,
  &#39;Result&#39;: &#39;0-1&#39;,
  &#39;ECO&#39;: &#39;D26&#39;,
  &#39;EventDate&#39;: &#39;1886.01.11&#39;},
 5: {&#39;Event&#39;: &#39;World Championship 1st&#39;,
  &#39;Site&#39;: &#39;USA&#39;,
  &#39;Date&#39;: &#39;1886.03.01&#39;,
  &#39;Round&#39;: &#39;11&#39;,
  &#39;Result&#39;: &#39;0-1&#39;,
  &#39;ECO&#39;: &#39;C49&#39;,
  &#39;EventDate&#39;: &#39;1886.01.11&#39;},
 6: {&#39;Event&#39;: &#39;World Championship 1st&#39;,
  &#39;Site&#39;: &#39;USA&#39;,
  &#39;Date&#39;: &#39;1886.03.05&#39;,
  &#39;Round&#39;: &#39;13&#39;,
  &#39;Result&#39;: &#39;1-0&#39;,
  &#39;ECO&#39;: &#39;D26&#39;,
  &#39;EventDate&#39;: &#39;1886.01.11&#39;},
 7: {&#39;Event&#39;: &#39;World Championship 1st&#39;,
  &#39;Site&#39;: &#39;USA&#39;,
  &#39;Date&#39;: &#39;1886.03.15&#39;,
  &#39;Round&#39;: &#39;15&#39;,
  &#39;Result&#39;: &#39;1/2-1/2&#39;,
  &#39;ECO&#39;: &#39;D50&#39;,
  &#39;EventDate&#39;: &#39;1886.01.11&#39;},
 8: {&#39;Event&#39;: &#39;World Championship 1st&#39;,
  &#39;Site&#39;: &#39;USA&#39;,
  &#39;Date&#39;: &#39;1886.03.19&#39;,
  &#39;Round&#39;: &#39;17&#39;,
  &#39;Result&#39;: &#39;1/2-1/2&#39;,
  &#39;ECO&#39;: &#39;D60&#39;,
  &#39;EventDate&#39;: &#39;1886.01.11&#39;},
 9: {&#39;Event&#39;: &#39;World Championship 1st&#39;,
  &#39;Site&#39;: &#39;USA&#39;,
  &#39;Date&#39;: &#39;1886.03.24&#39;,
  &#39;Round&#39;: &#39;19&#39;,
  &#39;Result&#39;: &#39;0-1&#39;,
  &#39;ECO&#39;: &#39;D53&#39;,
  &#39;EventDate&#39;: &#39;1886.01.11&#39;}}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#### 初步可视化</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/8663508bcb1a15fda64e4cbbfa42638884cba3c97d1091d01911d3968e8bac63.png" src="../_images/8663508bcb1a15fda64e4cbbfa42638884cba3c97d1091d01911d3968e8bac63.png" />
</div>
</div>
<div class="section" id="id54">
<h2>连通域分析<a class="headerlink" href="#id54" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 将G转为无向图， 分析连通域</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">to_undirected</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">H</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;连通域&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">H</span><span class="o">.</span><span class="n">subgraph</span><span class="p">(</span><span class="n">each</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;包含结点&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">each</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>连通域
MultiGraph with 22 nodes and 304 edges
包含结点
{&#39;Zukertort, Johannes H&#39;, &#39;Keres, Paul&#39;, &#39;Marshall, Frank J&#39;, &#39;Gunsberg, Isidor A&#39;, &#39;Janowski, Dawid M&#39;, &#39;Petrosian, Tigran V&#39;, &#39;Smyslov, Vassily V&#39;, &#39;Chigorin, Mikhail I&#39;, &#39;Tal, Mikhail N&#39;, &#39;Tarrasch, Siegbert&#39;, &#39;Botvinnik, Mikhail M&#39;, &#39;Schlechter, Carl&#39;, &#39;Alekhine, Alexander A&#39;, &#39;Spassky, Boris V&#39;, &#39;Lasker, Emanuel&#39;, &#39;Fischer, Robert J&#39;, &#39;Euwe, Max&#39;, &#39;Steinitz, Wilhelm&#39;, &#39;Bronstein, David I&#39;, &#39;Bogoljubow, Efim D&#39;, &#39;Reshevsky, Samuel H&#39;, &#39;Capablanca, Jose Raul&#39;}


连通域
MultiGraph with 3 nodes and 49 edges
包含结点
{&#39;Karpov, Anatoly&#39;, &#39;Korchnoi, Viktor L&#39;, &#39;Kasparov, Gary&#39;}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id55">
<h2>高级可视化<a class="headerlink" href="#id55" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 将G转为无向-单连接图</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">H</span><span class="o">.</span><span class="n">edges</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EdgeView([(&#39;Zukertort, Johannes H&#39;, &#39;Steinitz, Wilhelm&#39;), (&#39;Steinitz, Wilhelm&#39;, &#39;Chigorin, Mikhail I&#39;), (&#39;Steinitz, Wilhelm&#39;, &#39;Gunsberg, Isidor A&#39;), (&#39;Steinitz, Wilhelm&#39;, &#39;Lasker, Emanuel&#39;), (&#39;Lasker, Emanuel&#39;, &#39;Marshall, Frank J&#39;), (&#39;Lasker, Emanuel&#39;, &#39;Tarrasch, Siegbert&#39;), (&#39;Lasker, Emanuel&#39;, &#39;Janowski, Dawid M&#39;), (&#39;Lasker, Emanuel&#39;, &#39;Schlechter, Carl&#39;), (&#39;Lasker, Emanuel&#39;, &#39;Capablanca, Jose Raul&#39;), (&#39;Capablanca, Jose Raul&#39;, &#39;Alekhine, Alexander A&#39;), (&#39;Alekhine, Alexander A&#39;, &#39;Bogoljubow, Efim D&#39;), (&#39;Alekhine, Alexander A&#39;, &#39;Euwe, Max&#39;), (&#39;Euwe, Max&#39;, &#39;Keres, Paul&#39;), (&#39;Euwe, Max&#39;, &#39;Smyslov, Vassily V&#39;), (&#39;Euwe, Max&#39;, &#39;Botvinnik, Mikhail M&#39;), (&#39;Euwe, Max&#39;, &#39;Reshevsky, Samuel H&#39;), (&#39;Keres, Paul&#39;, &#39;Smyslov, Vassily V&#39;), (&#39;Keres, Paul&#39;, &#39;Botvinnik, Mikhail M&#39;), (&#39;Keres, Paul&#39;, &#39;Reshevsky, Samuel H&#39;), (&#39;Smyslov, Vassily V&#39;, &#39;Reshevsky, Samuel H&#39;), (&#39;Smyslov, Vassily V&#39;, &#39;Botvinnik, Mikhail M&#39;), (&#39;Reshevsky, Samuel H&#39;, &#39;Botvinnik, Mikhail M&#39;), (&#39;Botvinnik, Mikhail M&#39;, &#39;Bronstein, David I&#39;), (&#39;Botvinnik, Mikhail M&#39;, &#39;Tal, Mikhail N&#39;), (&#39;Botvinnik, Mikhail M&#39;, &#39;Petrosian, Tigran V&#39;), (&#39;Petrosian, Tigran V&#39;, &#39;Spassky, Boris V&#39;), (&#39;Spassky, Boris V&#39;, &#39;Fischer, Robert J&#39;), (&#39;Korchnoi, Viktor L&#39;, &#39;Karpov, Anatoly&#39;), (&#39;Karpov, Anatoly&#39;, &#39;Kasparov, Gary&#39;)])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 两个棋手的所有棋局</span>
<span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">get_edge_data</span><span class="p">(</span><span class="s1">&#39;Zukertort, Johannes H&#39;</span><span class="p">,</span> <span class="s1">&#39;Steinitz, Wilhelm&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 两个棋手之间的连接宽度 与 棋局个数 成正比</span>
<span class="n">edgewidth</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">get_edge_data</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">))</span> <span class="k">for</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">H</span><span class="o">.</span><span class="n">edges</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">edgewidth</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[10,
 19,
 10,
 9,
 7,
 8,
 11,
 5,
 7,
 17,
 26,
 27,
 3,
 3,
 2,
 2,
 3,
 3,
 2,
 3,
 37,
 2,
 12,
 21,
 11,
 23,
 11,
 25,
 24]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 棋手结点的大小 与 赢棋次数 成正比</span>
<span class="n">wins</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># 生成每个棋手作为key的dict</span>
<span class="k">for</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;Result&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
        <span class="n">wins</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+=</span> <span class="mf">1.0</span>
    <span class="k">elif</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;1/2&#39;</span><span class="p">:</span>
        <span class="n">wins</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+=</span> <span class="mf">0.5</span>
        <span class="n">wins</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">+=</span> <span class="mf">0.5</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">wins</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">+=</span> <span class="mf">1.0</span>
<span class="n">nodesize</span> <span class="o">=</span> <span class="p">[</span><span class="n">wins</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">*</span> <span class="mi">50</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">H</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wins</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Zukertort, Johannes H&#39;: 7.5,
 &#39;Steinitz, Wilhelm&#39;: 53.0,
 &#39;Chigorin, Mikhail I&#39;: 17.0,
 &#39;Gunsberg, Isidor A&#39;: 8.5,
 &#39;Lasker, Emanuel&#39;: 61.5,
 &#39;Marshall, Frank J&#39;: 3.5,
 &#39;Tarrasch, Siegbert&#39;: 5.5,
 &#39;Janowski, Dawid M&#39;: 3.5,
 &#39;Schlechter, Carl&#39;: 5.0,
 &#39;Capablanca, Jose Raul&#39;: 24.5,
 &#39;Alekhine, Alexander A&#39;: 79.5,
 &#39;Bogoljubow, Efim D&#39;: 20.0,
 &#39;Euwe, Max&#39;: 29.0,
 &#39;Keres, Paul&#39;: 10.5,
 &#39;Smyslov, Vassily V&#39;: 46.0,
 &#39;Reshevsky, Samuel H&#39;: 10.5,
 &#39;Botvinnik, Mikhail M&#39;: 89.0,
 &#39;Bronstein, David I&#39;: 12.0,
 &#39;Tal, Mikhail N&#39;: 20.5,
 &#39;Petrosian, Tigran V&#39;: 35.5,
 &#39;Spassky, Boris V&#39;: 32.5,
 &#39;Fischer, Robert J&#39;: 12.5,
 &#39;Korchnoi, Viktor L&#39;: 23.0,
 &#39;Karpov, Anatoly&#39;: 52.0,
 &#39;Kasparov, Gary&#39;: 23.0}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 布局</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">kamada_kawai_layout</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>

<span class="c1"># 手动微调节结点的横坐标（越大越靠右），纵坐标（越大越靠下）</span>
<span class="n">pos</span><span class="p">[</span><span class="s1">&#39;Reshevsky, Samuel H&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.10</span><span class="p">)</span>
<span class="n">pos</span><span class="p">[</span><span class="s1">&#39;Botvinnik, Mikhail M&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="mf">0.03</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.06</span><span class="p">)</span>
<span class="n">pos</span><span class="p">[</span><span class="s1">&#39;Smyslov, Vassily V&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.03</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>

<span class="c1"># 可视化连接</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">edgewidth</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>

<span class="c1"># 可视化结点</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="n">nodesize</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;#210070&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>

<span class="c1"># 节点名称文字说明</span>
<span class="n">label_options</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ec&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="s1">&#39;fc&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span><span class="mf">0.7</span><span class="p">}</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">label_options</span><span class="p">)</span>

<span class="c1"># 标题和图例</span>
<span class="n">font</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fontname&#39;</span><span class="p">:</span><span class="s1">&#39;Helvetica&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="s1">&#39;fontweight&#39;</span><span class="p">:</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="s1">&#39;fontsize&#39;</span><span class="p">:</span><span class="mi">16</span><span class="p">}</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;World Chess Championship Games: 1886 - 1985&#39;</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span>

<span class="c1"># 图例字体颜色</span>
<span class="n">font</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span>

<span class="c1"># 文字说明</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
    <span class="mf">0.80</span><span class="p">,</span>
    <span class="mf">0.10</span><span class="p">,</span>
    <span class="s2">&quot;edge width = # games played&quot;</span><span class="p">,</span>
    <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
    <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span>
    <span class="n">fontdict</span><span class="o">=</span><span class="n">font</span>
<span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
    <span class="mf">0.80</span><span class="p">,</span>
    <span class="mf">0.06</span><span class="p">,</span>
    <span class="s2">&quot;node size = # games won&quot;</span><span class="p">,</span>
    <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
    <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span>
    <span class="n">fontdict</span><span class="o">=</span><span class="n">font</span>
<span class="p">)</span>

<span class="c1"># 调整图的大小， 提高可读性</span>
<span class="n">ax</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>findfont: Font family [&#39;Helvetica&#39;] not found. Falling back to DejaVu Sans.
</pre></div>
</div>
<img alt="../_images/1c5f72c873bfa666bb76b5d7cb81e35d11a13a88dc0e743618487290079ecdbd.png" src="../_images/1c5f72c873bfa666bb76b5d7cb81e35d11a13a88dc0e743618487290079ecdbd.png" />
</div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="id56">
<h1>自定义结点图标<a class="headerlink" href="#id56" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PIL</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id57">
<h2>自定义图标<a class="headerlink" href="#id57" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 先从网站上下载图标（www.flaticon.com）</span>
<span class="n">icons</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;router&#39;</span><span class="p">:</span><span class="s1">&#39;./data/database.png&#39;</span><span class="p">,</span>
    <span class="s1">&#39;switch&#39;</span><span class="p">:</span><span class="s1">&#39;./data/wifi.png&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PC&#39;</span><span class="p">:</span><span class="s1">&#39;./data/pc.png&#39;</span>
<span class="p">}</span>

<span class="c1"># 载入图像</span>
<span class="n">images</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">icons</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">images</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;router&#39;: &lt;PIL.PngImagePlugin.PngImageFile image mode=RGBA size=512x512 at 0x216C0491940&gt;,
 &#39;switch&#39;: &lt;PIL.PngImagePlugin.PngImageFile image mode=RGBA size=512x512 at 0x216C0B2AAC0&gt;,
 &#39;PC&#39;: &lt;PIL.PngImagePlugin.PngImageFile image mode=RGBA size=512x512 at 0x216BE93A3D0&gt;}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id58">
<h2>创建图<a class="headerlink" href="#id58" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 创建空图</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>

<span class="c1"># 创建结点</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;router&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">images</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span class="p">])</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;switch-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">images</span><span class="p">[</span><span class="s1">&#39;switch&#39;</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;PC-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">images</span><span class="p">[</span><span class="s1">&#39;PC&#39;</span><span class="p">])</span>
        
<span class="c1"># 创建连接</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;router&#39;</span><span class="p">,</span> <span class="s1">&#39;switch-1&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;router&#39;</span><span class="p">,</span> <span class="s1">&#39;switch-2&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;router&#39;</span><span class="p">,</span> <span class="s1">&#39;switch-3&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
        <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;switch-</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;PC-</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7eb03dae6315317ba9f19cb0450473e498304f56e9f66d208eb9e07df1608170.png" src="../_images/7eb03dae6315317ba9f19cb0450473e498304f56e9f66d208eb9e07df1608170.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a26f651cbf96a1a21448d2032ef906fc6f2fc75f33b7d8d4aeb3098baeadaf88.png" src="../_images/a26f651cbf96a1a21448d2032ef906fc6f2fc75f33b7d8d4aeb3098baeadaf88.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 图片尺寸（相对于 X 轴）</span>
<span class="n">icon_size</span> <span class="o">=</span> <span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mf">0.04</span> 
<span class="n">icon_center</span> <span class="o">=</span> <span class="n">icon_size</span> <span class="o">/</span> <span class="mf">2.0</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id59">
<h2>可视化自定义结点图标<a class="headerlink" href="#id59" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">2023</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="c1"># 绘制连接</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span>
    <span class="n">G</span><span class="p">,</span>
    <span class="n">pos</span><span class="p">,</span>
    <span class="n">arrows</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">arrowstyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span>
    <span class="n">min_source_margin</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
    <span class="n">min_target_margin</span><span class="o">=</span><span class="mi">30</span>
<span class="p">)</span>

<span class="c1"># 给每个结点添加各自的图片</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
    <span class="n">xf</span><span class="p">,</span> <span class="n">yf</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">transData</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="n">n</span><span class="p">])</span> <span class="c1"># data坐标转display坐标</span>
    <span class="n">xa</span><span class="p">,</span> <span class="n">ya</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">transFigure</span><span class="o">.</span><span class="n">inverted</span><span class="p">()</span><span class="o">.</span><span class="n">transform</span><span class="p">((</span><span class="n">xf</span><span class="p">,</span> <span class="n">yf</span><span class="p">))</span> <span class="c1"># display坐标转figure坐标</span>
    
    <span class="n">a</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">([</span><span class="n">xa</span> <span class="o">-</span> <span class="n">icon_center</span><span class="p">,</span> <span class="n">ya</span> <span class="o">-</span> <span class="n">icon_center</span><span class="p">,</span> <span class="n">icon_size</span><span class="p">,</span> <span class="n">icon_size</span><span class="p">])</span>
    <span class="n">a</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">&#39;image&#39;</span><span class="p">])</span>
    <span class="n">a</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/fb25ff547be071b5a7f8a51984ffb590e8edd1dfa831362155812d5e9262e37f.png" src="../_images/fb25ff547be071b5a7f8a51984ffb590e8edd1dfa831362155812d5e9262e37f.png" />
</div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="ego">
<h1>自我中心图（Ego图）<a class="headerlink" href="#ego" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 导入工具包</span>
<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">itemgetter</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#### 创建Barabasi-Albert无标度网络</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">论文:Emergence of scaling in random networks.</span>
<span class="sd">n个结点逐渐生长，新节点与degree高的旧结点产生m条连接</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;\n论文:Emergence of scaling in random networks.\nn个结点逐渐生长，新节点与degree高的旧结点产生m条连接\n&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">seed</span> <span class="o">=</span> <span class="mi">23456</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">barabasi_albert_graph</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/016ac9b88074d44e7012eacd29b391bcb014fc556708dc38d1e11af656f74bd8.png" src="../_images/016ac9b88074d44e7012eacd29b391bcb014fc556708dc38d1e11af656f74bd8.png" />
</div>
</div>
<div class="section" id="degree">
<h2>找到degree最大的主节点<a class="headerlink" href="#degree" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">largest_hub</span><span class="p">,</span> <span class="n">degree</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">))[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">largest_hub</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">degree</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>74
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ego-graph">
<h2>找到以主节点为中心的邻域子图（Ego Graph）<a class="headerlink" href="#ego-graph" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hub_ego</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">ego_graph</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">largest_hub</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">hub_ego</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">hub_ego</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># 大红显示主节点</span>
<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;node_size&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">&#39;node_color&#39;</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span><span class="p">}</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">hub_ego</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">nodelist</span><span class="o">=</span><span class="p">[</span><span class="n">largest_hub</span><span class="p">],</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a1b443acff53a0c24f25e042944eff13363ba98d7f93bf52ae09f2d305d097be.png" src="../_images/a1b443acff53a0c24f25e042944eff13363ba98d7f93bf52ae09f2d305d097be.png" />
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./cs224w"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

            </article>
            

            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="02-tradition-ml.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Task-02:图机器学习及其特征工程</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="networkx_example.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Bridges</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   经典图结构
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     全连接无向图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     全连接有向图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     环状图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     梯状图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     线性串珠图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     星状图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     轮辐图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     二项树
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id10">
   栅格图
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     二维矩形网格图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     多维矩形网格图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     二维三角形网格图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     二维六边形蜂窝图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#n">
     n维超立方体图
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#networkx">
   NetworkX内置图
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id15">
   随机图
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id16">
   有向图
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id17">
     无标度有向图
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id18">
   社交网络
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id19">
   社群聚类图
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id20">
   树
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id21">
   导入三元组连接表
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#edge-list">
   通过连接表Edge List创建图
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id22">
   可视化
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id23">
   查看全图参数
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id24">
   创建结点
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id25">
     创建无结点，无连接的空图
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id26">
   添加单个结点
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id27">
     添加带属性特征的结点
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#path-graph">
   创建另一个首尾相连成串的Path Graph
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hg">
   将H本身作为结点添加到G中
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id28">
   小贴士
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id29">
   创建连接
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id30">
   创建单个结点
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id31">
     创建多个结点
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id32">
     全图结点信息
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id33">
     创建单个连接，设置属性特征
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id34">
     创建多个连接
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id35">
     全图连接信息
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-degree">
     结点的连接数（Node degree）
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#x4">
   创建4x4网格图
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id36">
   原生可视化
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id37">
     不显示结点
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id38">
     设置颜色
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id39">
     有向图
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id40">
   设置每个结点的坐标
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id41">
     无向图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id42">
     再来一个案例
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id43">
   美国128城市交通关系无向图可视化
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id44">
     构建图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id45">
     查看图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id46">
     128城市人口数据
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id47">
     128城市互联互通关系
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id48">
     纽约到里士满的交通距离
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id49">
     筛选出距离小于指定阈值的城市
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id50">
     可视化
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id51">
     创建有向图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id52">
     初步可视化
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id53">
     高级可视化设置
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multigraph">
   国际象棋对局MultiGraph多路图可视化
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id54">
     连通域分析
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id55">
     高级可视化
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id56">
   自定义结点图标
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id57">
     自定义图标
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id58">
     创建图
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id59">
     可视化自定义结点图标
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ego">
   自我中心图（Ego图）
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#degree">
     找到degree最大的主节点
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ego-graph">
     找到以主节点为中心的邻域子图（Ego Graph）
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2022.<br>

</p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
Last updated on None.<br>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </div>
        </footer>
        

      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  </body>
</html>